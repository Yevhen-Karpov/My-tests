{"version":3,"sources":["webpack:///./apiService.js","webpack:///./refs.js","webpack:///./index.js","webpack:///./template/allPage.hbs","webpack:///./template/commentPage.hbs"],"names":["BASE_URL","ApiService","this","page","fetchGetComments","fetch","result","json","fetchGetPage","value","fetchPostComments","newComment","options","method","headers","body","JSON","stringify","res","fetchAllComments","resetPage","getPage","setPage","getTotalPages","pages","incrementPage","decrementPage","currentPage","titlePage","document","querySelector","containerComments","postBtn","addMore","paginationListItem","querySelectorAll","paginationList","inputName","inputText","apiService","refs","getComment","innerHTML","then","elem","insertAdjacentHTML","commentPage","data","console","log","links","allPages","newLink","map","link","push","label","el","getElementById","addEventListener","e","btns","getElementsByClassName","i","length","classList","remove","target","toggle","textContent","a","preventDefault","name","text","alert","catch","Handlebars","module","exports","template","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","blockHelperMissing","lambda"],"mappings":"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","file":"main.0d281e13833ba5c669f5.js","sourcesContent":["const BASE_URL = 'https://jordan.ashton.fashion/api/goods/30/comments';\r\nexport default class ApiService {\r\n  constructor() {\r\n    this.page = 1;\r\n  }\r\n  async fetchGetComments() {\r\n    const result = await fetch(`${BASE_URL}?page=${this.page}`);\r\n    return await result.json();\r\n  }\r\n  async fetchGetPage(value) {\r\n    const result = await fetch(`${BASE_URL}?page=${value}`);\r\n    return await result.json();\r\n  }\r\n  async fetchPostComments(newComment) {\r\n    // const newComment = {\r\n    //   name: inputName.value,\r\n    //   text: inputText.value,\r\n    // };\r\n    const options = {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(newComment),\r\n    };\r\n\r\n    const res = await fetch(`${BASE_URL}`, options);\r\n    return await res.json();\r\n  }\r\n  async fetchAllComments() {\r\n    const res = await fetch(`${BASE_URL}`);\r\n    return await res.json();\r\n  }\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n  getPage() {\r\n    return this.page;\r\n  }\r\n  setPage(value) {\r\n    return (this.page = value);\r\n  }\r\n  getTotalPages() {\r\n    return this.pages;\r\n  }\r\n  // set totalPages(pgs) {\r\n  //   this.pages = Number(pgs);\r\n  // }\r\n  incrementPage() {\r\n    if (this.page === this.pages) {\r\n      return;\r\n    }\r\n    this.page += 1;\r\n  }\r\n  decrementPage() {\r\n    if (this.page === 1) {\r\n      return;\r\n    }\r\n    this.page -= 1;\r\n  }\r\n\r\n  currentPage() {\r\n    return this.page;\r\n  }\r\n}\r\n","export default {\r\n  titlePage: document.querySelector('.title-page'),\r\n  containerComments: document.querySelector('.container-comments'),\r\n  postBtn: document.querySelector('#button'),\r\n  addMore: document.querySelector('.add-more'),\r\n  paginationListItem: document.querySelectorAll('.pagination-list-item'),\r\n  paginationList: document.querySelector('.pagination-list'),\r\n  inputName: document.querySelector('#name'),\r\n  inputText: document.querySelector('#comment'),\r\n};\r\n","import commentPage from './template/commentPage.hbs';\r\nimport allPages from './template/allPage.hbs';\r\nimport './styles.css';\r\nimport ApiService from './apiService';\r\nimport refs from './refs';\r\n// import './task1';\r\n// import './task2';\r\n\r\nconst apiService = new ApiService();\r\nconst {\r\n  titlePage,\r\n  containerComments,\r\n  postBtn,\r\n  addMore,\r\n  paginationListItem,\r\n  paginationList,\r\n  inputName,\r\n  inputText,\r\n} = refs;\r\n\r\npostBtn.addEventListener('click', postComment);\r\naddMore.addEventListener('click', getComment);\r\n\r\nfunction postComment(e) {\r\n  e.preventDefault();\r\n  const newComment = {\r\n    name: inputName.value,\r\n    text: inputText.value,\r\n  };\r\n  if (newComment.name == '' || newComment.text == '') {\r\n    return alert('Поле не должно быть пустым');\r\n  }\r\n  apiService\r\n    .fetchPostComments(newComment)\r\n    .then(newComment => console.log(newComment))\r\n    .catch();\r\n  apiService.resetPage();\r\n  console.log(inputName.value);\r\n  getComment();\r\n\r\n  inputName.value = '';\r\n  inputText.value = '';\r\n}\r\nfunction getComment() {\r\n  containerComments.innerHTML = '';\r\n\r\n  apiService.fetchGetComments().then(elem => {\r\n    containerComments.insertAdjacentHTML('beforeend', commentPage(elem.data));\r\n\r\n    apiService.incrementPage();\r\n    paginationList.innerHTML = '';\r\n    pagination();\r\n  });\r\n  addMore.classList.remove('disabled');\r\n}\r\n// function getPage() {\r\n//   containerComments.innerHTML = '';\r\n//   apiService.fetchGetPage().then(elem => {\r\n//     containerComments.insertAdjacentHTML('beforeend', commentPage(elem.data));\r\n\r\n//     paginationList.innerHTML = '';\r\n//     pagination();\r\n//   });\r\n// }\r\ntitlePage.addEventListener('click', getComment);\r\n// const a = apiService.page;\r\n// console.log(a);\r\nfunction pagination() {\r\n  apiService.fetchAllComments().then(res => {\r\n    console.log(res.links);\r\n\r\n    paginationList.insertAdjacentHTML('beforeend', allPages(res.links));\r\n    const newLink = [];\r\n    res.links.map(link => {\r\n      newLink.push(link.label);\r\n      const el = document.getElementById(`${link.label}`);\r\n\r\n      function onClick(e) {\r\n        const btns = paginationList.getElementsByClassName('btn');\r\n        for (let i = 1; i < btns.length - 1; i++) {\r\n          btns[i].classList.remove('active');\r\n        }\r\n        e.target.classList.toggle('active');\r\n        if (el.textContent === '&laquo; Previous') {\r\n          // apiService.decrementPage();\r\n\r\n          getComment();\r\n        } else if (el.textContent === 'Next &raquo;') {\r\n          containerComments.innerHTML = '';\r\n\r\n          apiService.fetchGetComments().then(elem => {\r\n            containerComments.insertAdjacentHTML(\r\n              'beforeend',\r\n              commentPage(elem.data),\r\n            );\r\n          });\r\n          apiService.incrementPage();\r\n        } else {\r\n          containerComments.innerHTML = '';\r\n          apiService.fetchGetPage(el.textContent).then(elem => {\r\n            containerComments.insertAdjacentHTML(\r\n              'beforeend',\r\n              commentPage(elem.data),\r\n              console.log(el.textContent),\r\n            );\r\n          });\r\n        }\r\n        let a = apiService.page;\r\n        console.log(a);\r\n      }\r\n\r\n      el.addEventListener('click', onClick);\r\n    });\r\n  });\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <li class='pagination-list-item'><button\\r\\n      class='btn'\\r\\n      id='\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"label\") || (depth0 != null ? lookupProperty(depth0,\"label\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"label\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":10},\"end\":{\"line\":4,\"column\":19}}}) : helper)))\n    + \"'\\r\\n    >\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"label\") || (depth0 != null ? lookupProperty(depth0,\"label\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"label\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":5},\"end\":{\"line\":5,\"column\":14}}}) : helper)))\n    + \"</button></li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":6,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"comment-item\\\">\\r\\n    <p>Name: '\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":22}}}) : helper)))\n    + \"'</p>\\r\\n    <p> Comment: '\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"text\") || (depth0 != null ? lookupProperty(depth0,\"text\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"text\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":18},\"end\":{\"line\":5,\"column\":26}}}) : helper)))\n    + \"'</p>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\r\\n\"\n    + ((stack1 = container.hooks.blockHelperMissing.call(depth0,container.lambda(depth0, depth0),{\"name\":\"this\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":0},\"end\":{\"line\":7,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}