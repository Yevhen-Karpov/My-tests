(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,n,t){},QfWi:function(e,n,t){"use strict";t.r(n);var o=t("x/Gh"),a=t.n(o),r=t("pW5L"),i=t.n(r);t("L1EO"),t("fp7Y"),t("JBxO"),t("FdtR");function l(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c="https://jordan.ashton.fashion/api/goods/30/comments",u=function(){function e(){this.page=1}var n,t,o,a=e.prototype;return a.fetchGetComments=function(){return fetch(c+"?page="+this.page).then((function(e){return e.json()})).catch()},a.fetchPostComments=function(){var e={name:inputName.value,text:inputText.value},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch(""+c,n).then((function(e){return e.json()})).catch()},a.fetchAllComments=function(){return fetch(""+c).then((function(e){return e.json()})).catch()},a.resetPage=function(){this.page=1},a.getPage=function(){return this.page},a.getTotalPages=function(){return this.pages},a.incrementPage=function(){this.page!==this.pages&&(this.page+=1)},a.decrementPage=function(){1!==this.page&&(this.page-=1)},a.currentPage=function(){return this.page},n=e,(t=[{key:"totalPages",set:function(e){this.pages=Number(e)}}])&&l(n.prototype,t),o&&l(n,o),e}(),s={containerComments:document.querySelector(".container-comments"),postBtn:document.querySelector("#button"),addMore:document.querySelector(".add-more"),paginationListItem:document.querySelectorAll(".pagination-list-item"),paginationList:document.querySelector(".pagination-list"),inputName:document.querySelector("#name"),inputText:document.querySelector("#comment")},p=new u,m=s.containerComments,f=s.postBtn,h=s.addMore,g=s.paginationListItem,d=s.paginationList,y=s.inputName,v=s.inputText;function b(){m.innerHTML="",p.fetchGetComments().then((function(e){console.log(e.current_page),console.log(e),m.insertAdjacentHTML("beforeend",a()(e.data)),p.incrementPage()})),h.classList.remove("disabled")}console.log(g),f.addEventListener("click",(function(e){e.preventDefault(),p.fetchPostComments().then(console.log).catch(),p.resetPage(),b(),y.value="",v.value=""})),h.addEventListener("click",b),""===m.innerHTML&&b(),p.fetchAllComments().then((function(e){console.log(e.per_page),d.insertAdjacentHTML("beforeend",i()(e))}))},pW5L:function(e,n,t){var o=t("mp5j");e.exports=(o.default||o).template({1:function(e,n,t,o,a){var r,i=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li class="pagination-list-item"><button>'+e.escapeExpression("function"==typeof(r=null!=(r=i(t,"per_page")||(null!=n?i(n,"per_page"):n))?r:e.hooks.helperMissing)?r.call(null!=n?n:e.nullContext||{},{name:"per_page",hash:{},data:a,loc:{start:{line:3,column:41},end:{line:3,column:53}}}):r)+"</button></li>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,o,a){var r;return"\n"+(null!=(r=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:0},end:{line:4,column:9}}}))?r:"")},useData:!0})},"x/Gh":function(e,n,t){var o=t("mp5j");e.exports=(o.default||o).template({1:function(e,n,t,o,a){var r,i=null!=n?n:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li class="comment-item">\n    <p>Name: \''+c("function"==typeof(r=null!=(r=u(t,"name")||(null!=n?u(n,"name"):n))?r:l)?r.call(i,{name:"name",hash:{},data:a,loc:{start:{line:4,column:14},end:{line:4,column:22}}}):r)+"'</p>\n    <p> Comment: '"+c("function"==typeof(r=null!=(r=u(t,"text")||(null!=n?u(n,"text"):n))?r:l)?r.call(i,{name:"text",hash:{},data:a,loc:{start:{line:5,column:18},end:{line:5,column:26}}}):r)+"'</p>\n</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,o,a){var r;return"\n"+(null!=(r=e.hooks.blockHelperMissing.call(n,e.lambda(n,n),{name:"this",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:0},end:{line:7,column:9}}}))?r:"")},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.7cc7b1a7a4a5c1ca4946.js.map